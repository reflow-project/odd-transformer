{
  "header": {
    "id": "3ff7a0a7-2fc3-4e84-a6ef-a83ab55b698d",
    "name": "test-pipe",
    "title": "Test Pipe Transforming JS",
    "context": "JUnit5 Tests",
    "transport": "payload",
    "version": "1.0"
  },
  "body": {
    "segments": [
      {
        "header": {
          "name": "transforming-js",
          "segmentNumber": 1,
          "title": "Transforming JS",
          "processed": false
        },
        "body": {
          "endpoint": {
            "address": "http://localhost:8080/pipe"
          },
          "config": {
            "single": true,
            "scriptType": "repository",
            "repository": {
              "uri": "https://gitlab.com/european-data-portal/harvester/transformation-scripts.git",
              "branch": "master",
              "script": "js/data-gov-me-to-dcat-ap.js",
              "username": "gitlab+deploy-token-42775",
              "token": "RzkM7iTjniXWQshrkGx6"
            },
            "params": {
              "defaultLanguage": "en"
            },
            "outputFormat": "text/turtle"
          },
          "payload": {
            "header": {
              "seqNumber": 0,
              "dataType": "text"
            },
            "body": {
              "dataInfo": {
                "total": 1,
                "counter": 1,
                "identifier": "id1"
              },
              "data": "      {\n        \"license_title\": \"UK Open Government Licence (OGL)\",\n        \"maintainer\": null,\n        \"relationships_as_object\": [],\n        \"private\": false,\n        \"maintainer_email\": null,\n        \"num_tags\": 2,\n        \"id\": \"6d989faf-58d9-4bdf-94ff-3d94f9d872e5\",\n        \"metadata_created\": \"2015-02-12T14:20:19.420520\",\n        \"metadata_modified\": \"2019-01-23T13:32:04.086816\",\n        \"author\": \"Head of Libraries\",\n        \"author_email\": \"open.data@barnet.gov.uk\",\n        \"state\": \"active\",\n        \"version\": \"1.0\",\n        \"creator_user_id\": \"60e687bf-a6d8-43e2-a50e-efab84b27952\",\n        \"type\": \"dataset\",\n        \"resources\": [\n          {\n            \"mimetype\": null,\n            \"cache_url\": null,\n            \"hash\": \"\",\n            \"description\": \"Library usage data\",\n            \"name\": \"Libraries review data 2013-14\",\n            \"format\": \"XLS\",\n            \"url\": \"https://open.barnet.gov.uk/download/libraries-usage-data-2013-14/4801433d-af99-4093-858d-fbb402018577/psrlibrariessupplementary-datav5.xlsx\",\n            \"cache_last_updated\": null,\n            \"package_id\": \"6d989faf-58d9-4bdf-94ff-3d94f9d872e5\",\n            \"created\": \"2018-11-24T02:19:40.857745\",\n            \"state\": \"active\",\n            \"mimetype_inner\": null,\n            \"last_modified\": null,\n            \"position\": 0,\n            \"revision_id\": \"40afe443-fd2e-4f91-8145-f531caa443c6\",\n            \"url_type\": null,\n            \"id\": \"2635fd0e-0dd2-4857-b6ff-7aacba1a09c9\",\n            \"resource_type\": null,\n            \"size\": null\n          }\n        ],\n        \"num_resources\": 1,\n        \"tags\": [\n          {\n            \"vocabulary_id\": null,\n            \"state\": \"active\",\n            \"display_name\": \"Libraries\",\n            \"id\": \"1b8b5ee6-9a3a-4b6f-952c-1380277b44de\",\n            \"name\": \"Libraries\"\n          },\n          {\n            \"vocabulary_id\": null,\n            \"state\": \"active\",\n            \"display_name\": \"Residents\",\n            \"id\": \"a4d9a497-1564-45a6-8593-08f91cc9e0b5\",\n            \"name\": \"Residents\"\n          }\n        ],\n        \"groups\": [],\n        \"license_id\": \"uk-ogl\",\n        \"relationships_as_subject\": [],\n        \"organization\": {\n          \"description\": \"\",\n          \"created\": \"2012-06-27T14:48:52.167987\",\n          \"title\": \"London Borough of Barnet\",\n          \"name\": \"london-borough-of-barnet\",\n          \"is_organization\": true,\n          \"state\": \"active\",\n          \"image_url\": \"\",\n          \"revision_id\": \"055d5bab-90f4-438f-ac5b-ad60edd06920\",\n          \"type\": \"organization\",\n          \"id\": \"27322301-90d6-4837-9563-899fd280e921\",\n          \"approval_status\": \"pending\"\n        },\n        \"name\": \"libraries-usage-data-2013-14\",\n        \"isopen\": true,\n        \"url\": \"https://open.barnet.gov.uk/dataset/libraries-usage-data-2013-14\",\n        \"notes\": \"*   Library user profiles\\n*   library catchment area profiles\\n*   LBB libraries service usage data\",\n        \"owner_org\": \"27322301-90d6-4837-9563-899fd280e921\",\n        \"extras\": [\n          {\n            \"key\": \"dcat_issued\",\n            \"value\": \"2015-02-10T16:33:42.000Z\"\n          },\n          {\n            \"key\": \"dcat_modified\",\n            \"value\": \"2015-05-05T09:58:44.000Z\"\n          },\n          {\n            \"key\": \"dcat_publisher_name\",\n            \"value\": \"London Borough of Barnet\"\n          },\n          {\n            \"key\": \"guid\",\n            \"value\": \"6d989faf-58d9-4bdf-94ff-3d94f9d872e5\"\n          },\n          {\n            \"key\": \"language\",\n            \"value\": \"\"\n          },\n          {\n            \"key\": \"harvest_object_id\",\n            \"value\": \"c4d9ea63-346f-44e3-bc4d-23746ef7c40f\"\n          },\n          {\n            \"key\": \"harvest_source_id\",\n            \"value\": \"06f2be65-b3b8-46d1-a67c-02e426c7cc03\"\n          },\n          {\n            \"key\": \"harvest_source_title\",\n            \"value\": \"Open Barnet\"\n          }\n        ],\n        \"license_url\": \"http://reference.data.gov.uk/id/open-government-licence\",\n        \"title\": \"Libraries usage data 2013-14\",\n        \"revision_id\": \"4790ec71-7a40-460d-bee6-20e63a06f059\"\n      }"
            }
          }
        }
      },
      {
        "header": {
          "name": "exporting-hub",
          "segmentNumber": 3,
          "title": "Exporting hub",
          "processed": false
        },
        "body": {
          "config": {
            "hub": {
              "serviceName": "piveau-hub"
            }
          }
        }
      }
    ]
  }
}
